using Butterfly.HabboHotel.GameClients;using Butterfly.HabboHotel.Items;using Butterfly.HabboHotel.Quests;using Butterfly.HabboHotel.Rooms;namespace Butterfly.Communication.Packets.Incoming.Structure{    class UseFurnitureEvent : IPacketEvent    {        public void Parse(GameClient Session, ClientPacket Packet)        {            Room room = ButterflyEnvironment.GetGame().GetRoomManager().GetRoom(Session.GetHabbo().CurrentRoomId);            if (room == null)                return;            int pId = Packet.PopInt();            Item roomItem1 = room.GetRoomItemHandler().GetItem(pId);            if (roomItem1 == null)                return;            if (roomItem1.GetBaseItem().ItemName == "bw_lgchair")                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 1936);            else if (roomItem1.GetBaseItem().ItemName.Contains("bw_sboard"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 1969);            else if (roomItem1.GetBaseItem().ItemName.Contains("bw_van"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 1956);            else if (roomItem1.GetBaseItem().ItemName.Contains("party_floor"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 1369);            else if (roomItem1.GetBaseItem().ItemName.Contains("party_ball"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 1375);            else if (roomItem1.GetBaseItem().ItemName.Contains("jukebox"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 1019);            else if (roomItem1.GetBaseItem().ItemName.Contains("bb_gate"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2050);            else if (roomItem1.GetBaseItem().ItemName == "bb_patch1")                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2040);            else if (roomItem1.GetBaseItem().ItemName == "bb_rnd_tele")                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2049);            else if (roomItem1.GetBaseItem().ItemName.Contains("es_gate_"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2167);            else if (roomItem1.GetBaseItem().ItemName.Contains("es_score_"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2172);            else if (roomItem1.GetBaseItem().ItemName.Contains("es_exit"))                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2166);            else if (roomItem1.GetBaseItem().ItemName == "es_tagging")                ButterflyEnvironment.GetGame().GetQuestManager().ProgressUserQuest(Session, QuestType.EXPLORE_FIND_ITEM, 2148);            bool UserHasRights = false;            if (room.CheckRights(Session))                UserHasRights = true;            string str = roomItem1.ExtraData;            int Request = Packet.PopInt();            roomItem1.Interactor.OnTrigger(Session, roomItem1, Request, UserHasRights);            roomItem1.OnTrigger(room.GetRoomUserManager().GetRoomUserByHabboId(Session.GetHabbo().Id));        }    }}